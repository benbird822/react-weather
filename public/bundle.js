webpackJsonp([0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(1),a=r(o),u=n(34),i=n(164),l=n(190),c=n(251),f=n(262),s=r(f),d=window.__initialState__||void 0,p=(0,c.configureStore)(l.hashHistory,d),y=l.hashHistory;(0,u.render)(a["default"].createElement(i.Provider,{store:p},a["default"].createElement(l.Router,{history:y,routes:s["default"]})),document.getElementById("mount"))},251:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n=(0,l.combineReducers)(u({},p,{routing:c.routerReducer})),r=(0,l.createStore)(n,t,(0,l.compose)((0,l.applyMiddleware)(s["default"],(0,c.routerMiddleware)(e))));return r}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.configureStore=a;var i=n(1),l=(o(i),n(171)),c=n(252),f=n(257),s=o(f),d=n(258),p=r(d)},258:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.weatherCity=t.weatherItemInfo=void 0;var o=n(259),a=r(o),u=n(261),i=r(u);t.weatherItemInfo=a["default"],t.weatherCity=i["default"]},259:function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0],t=arguments[1],n=function(){switch(t.type){case a.RECEIVE_WEATHERITEMINFO:var n=[],r=t.json.weatherItemInfo.retData;if(r){var o=r.today;if(o)return o.index.map(function(e,t){n.push({id:t,name:e.name,index:""==e.index?"无":e.index,details:e.details})}),{v:Object.assign({},e,{city:r.city,date:o.date,type:o.type,lowtemp:o.lowtemp,hightemp:o.hightemp,fengli:o.fengli,index:n})}}default:return{v:e}}}();if("object"===("undefined"==typeof n?"undefined":o(n)))return n.v}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(260),u={};e.exports=r},260:function(e,t){"use strict";e.exports={RECEIVE_WEATHERITEMINFO:"RECEIVE_WEATHERITEMINFO",RECEIVE_WEATHERCITY:"RECEIVE_WEATHERCITY"}},261:function(e,t,n){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0],t=arguments[1],n=function(){switch(t.type){case a.RECEIVE_WEATHERCITY:var n=[],r=t.json.weatherCity;if(0==r.errNum){var o=r.retData;o.map(function(e,t){n.push({id:t,area_id:e.area_id,area:e.name_cn+"("+e.name_en+") - "+(e.province_cn!=e.district_cn?e.province_cn+"省":"")+e.district_cn+"市"})})}return{v:Object.assign({},e,{errNum:r.errNum,errMsg:r.errMsg,weatherCity:n})};default:return{v:e}}}();if("object"===("undefined"==typeof n?"undefined":o(n)))return n.v}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(260),u={};e.exports=r},262:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),u=n(190),i=n(263),l=r(i),c=n(270),f=r(c),s=n(277),d=r(s),p=n(278),y=r(p),m=n(279),h=r(m),b=a["default"].createElement(u.Route,{path:"/",component:l["default"]},a["default"].createElement(u.IndexRoute,{component:d["default"]}),a["default"].createElement(u.Route,{path:"/city/:cityid",component:f["default"]}),a["default"].createElement(u.Route,{path:"/search",component:h["default"]}),a["default"].createElement(u.Route,{path:"*",component:y["default"]}));t["default"]=b},263:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=(e.pushPath,e.children);return u["default"].createElement("div",null,u["default"].createElement(s["default"],null),u["default"].createElement("main",null,t),u["default"].createElement(p["default"],null))}var a=n(1),u=r(a),i=(n(190),n(164)),l=n(264),c=(r(l),n(265)),f=(r(c),n(266)),s=r(f),d=n(268),p=r(d);e.exports=(0,i.connect)(null)(o)},264:function(e,t){},265:264,266:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return u["default"].createElement("header",{className:c["default"].header},u["default"].createElement(i.Link,{to:"/"},"home")," | ",u["default"].createElement(i.Link,{to:"/search"},"search")," | ",u["default"].createElement(i.Link,{to:"/my"},"my"))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=r(a),i=n(190),l=n(267),c=r(l);t["default"]=o},267:function(e,t){e.exports={header:"Header_header__3ZJQM",todo:"Header_todo__3UbRB"}},268:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=n(269),s=r(f),d=function(e){function t(e){return o(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("footer",{className:s["default"].footer},c["default"].createElement("span",null,"Copyright © 2016 weather"))}}]),t}(l.Component);t["default"]=d},269:function(e,t){e.exports={footer:"Footer_footer__1MO-8"}},270:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{weatherItemInfo:e.weatherItemInfo}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),s=n(164),d=n(271),p=n(265),y=r(p),m=n(274),h=r(m),b=n(276),E=function(e){function t(e){return o(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),l(t,[{key:"componentWillMount",value:function(){this.setState({loading:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({loading:!(0,b.isEmpty)(e.params.weatherItemInfo)})}},{key:"componentDidMount",value:function(){var e=this.props.params.cityid;"undefined"==typeof e&&(e="101010100"),this.props.dispatch((0,d.fetchWeatherItemInfo)(location.origin,e))}},{key:"render",value:function(){var e=this.props.weatherItemInfo,t=f["default"].createElement(h["default"],null);if(this.state.loading)return f["default"].createElement("div",{className:y["default"].home},t);t=null;var n=null;return n=e.index.map(function(e){var t=""==e.index?"无":e.index;return f["default"].createElement("li",{key:e.id},e.name,"：",t,"「",e.details,"」")}),f["default"].createElement("div",{className:y["default"].item},t,f["default"].createElement("div",{className:y["default"].list},f["default"].createElement("h2",null,e.city),f["default"].createElement("h3",null,e.date),f["default"].createElement("p",null,e.type),f["default"].createElement("p",null,e.lowtemp,"~",e.hightemp),f["default"].createElement("p",null,e.fengli),f["default"].createElement("ul",null,n)))}}]),t}(c.Component);t["default"]=(0,s.connect)(i)(E)},271:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n="http://apis.baidu.com/apistore/weatherservice/recentweathers";return n=n+"?cityid="+t,function(e){return(0,i["default"])(n,{headers:{apikey:"1ec4165daff2447e6e09cd60822bc899"}}).then(function(e){return e.json()}).then(function(t){return e(a({weatherItemInfo:t}))})}}function a(e){return{type:l.RECEIVE_WEATHERITEMINFO,json:e,receivedAt:Date.now()}}var u=n(272),i=r(u),l=n(260);e.exports={fetchWeatherItemInfo:o,receiveWeatherItemInfo:a}},274:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return u["default"].createElement("div",{className:l["default"].loader},u["default"].createElement("span",{className:l["default"].block}),u["default"].createElement("span",{className:l["default"].block}),u["default"].createElement("span",{className:l["default"].block}),u["default"].createElement("span",{className:l["default"].block}),u["default"].createElement("span",{className:l["default"].block}),u["default"].createElement("span",{className:l["default"].block}),u["default"].createElement("span",{className:l["default"].block}),u["default"].createElement("span",{className:l["default"].block}),u["default"].createElement("span",{className:l["default"].block}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=r(a),i=n(275),l=r(i);t["default"]=o},275:function(e,t){e.exports={loader:"Loader_loader__3qGQ6",block:"Loader_block__11XIS",show:"Loader_show__W2yqQ",pulse:"Loader_pulse__uIaS7"}},276:function(e,t){"use strict";function n(e){return void 0===e||!Object.keys(e).length}e.exports={isEmpty:n}},277:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=n(190),s=function(e){function t(e){return o(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("p",null,c["default"].createElement(f.Link,{to:"/city/101010100"},"北京")," |",c["default"].createElement(f.Link,{to:"/city/101020100"},"上海")," |",c["default"].createElement(f.Link,{to:"/city/101280101"},"广州")," |",c["default"].createElement(f.Link,{to:"/city/101280601"},"深圳")," |",c["default"].createElement(f.Link,{to:"/city/101270101"},"成都")," |",c["default"].createElement(f.Link,{to:"/city/101040100"},"重庆")," |",c["default"].createElement(f.Link,{to:"/city/101180101"},"郑州"))}}]),t}(l.Component);t["default"]=s},278:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),f=(n(164),function(e){function t(e){return o(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){return c["default"].createElement("h3",null,"404!")}}]),t}(l.Component));t["default"]=f},279:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{errNum:e.weatherCity.errNum,errMsg:e.weatherCity.errMsg,searchData:e.weatherCity.weatherCity}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),s=n(164),d=n(190),p=n(280),y=n(274),m=(r(y),n(276)),h=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.inputTimeout=null,n.state={text:""},n}return u(t,e),l(t,[{key:"handleChange",value:function(e){var t=this,n=e.target.value;this.inputTimeout&&window.clearTimeout(this.inputTimeout),t.setState({text:n}),this.inputTimeout=setTimeout(function(){t.props.dispatch((0,p.fetchWeatherCity)(location.origin,n))},300)}},{key:"render",value:function(){var e=this.props,t=e.searchData,n=(e.errNum,e.errMsg),r=null;return(0,m.isEmpty)(t)?n&&(r=f["default"].createElement("li",null,f["default"].createElement("p",null,n))):r=t.map(function(e){var t="/city/"+e.area_id;return f["default"].createElement("li",{key:e.id},f["default"].createElement("p",null,f["default"].createElement(d.Link,{to:t},e.area)))}),f["default"].createElement("div",null,f["default"].createElement("input",{type:"text",placeholder:"search...",value:this.state.text,onChange:this.handleChange.bind(this)}),f["default"].createElement("ul",null,r))}}]),t}(c.Component);t["default"]=(0,s.connect)(i)(h)},280:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n="http://apis.baidu.com/apistore/weatherservice/citylist";return n=n+"?cityname="+encodeURI(t),function(e){return(0,i["default"])(n,{headers:{apikey:"1ec4165daff2447e6e09cd60822bc899"}}).then(function(e){return e.json()}).then(function(t){return e(a({weatherCity:t}))})}}function a(e){return{type:l.RECEIVE_WEATHERCITY,json:e,receivedAt:Date.now()}}var u=n(272),i=r(u),l=n(260);e.exports={fetchWeatherCity:o,receiveWeatherCity:a}}});